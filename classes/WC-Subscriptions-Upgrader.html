<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>WooCommerce Code Reference</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="../images/favicon.png" />
    <link rel="apple-touch-icon" href="../images/apple-touch-icon.png"/>
    <link rel="apple-touch-icon" sizes="72x72" href="../images/apple-touch-icon-72x72.png"/>
    <link rel="apple-touch-icon" sizes="114x114" href="../images/apple-touch-icon-114x114.png"/>
    <link rel="stylesheet" href="../css/normalize.css">
    <link rel="stylesheet" href="../css/base.css?updated=1663738777">
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/template.css?updated=1663738777">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0/css/all.min.css" integrity="sha256-ybRkN9dBjhcS2qrW1z+hfCxq+1aBdwyQM5wlQoQVt/0=" crossorigin="anonymous" />
            <script src="https://cdn.jsdelivr.net/npm/css-vars-ponyfill@2"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0/js/all.min.js" integrity="sha256-0vuk8LXoyrmCjp1f0O300qo1M75ZQyhH9X3J6d+scmk=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tarekraafat/autocomplete.js@7.2.0/dist/js/autoComplete.min.js"></script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-8KCYZ2CYMS"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-8KCYZ2CYMS', {
		'content_group' : 'WooCommerce Core Code Reference',
	});
</script>
        </head>
<body id="top">
    <header class="phpdocumentor-top-header">
    <section class="phpdocumentor-section">
        <div class="site-branding">
            <a class="site-logo" href="../index.html"><img width="180" src="../images/logo.svg" alt="WooCommerce" /></a>
        </div>
        <nav class="main-navigation">
            <ul>
                <li><a href="../hooks/hooks.html">Hooks Reference</a></li>
                <li><a href="https://docs.woocommerce.com/">Documentation</a></li>
                <li><a href="https://woocommerce.github.io/woocommerce-rest-api-docs/">REST API Docs</a></li>
                <li><a href="https://woocommerce.com/careers/?utm_source=woocommerce+core+code+reference&utm_medium=devdocs&utm_campaign=woo+careers" target="_blank">We're hiring!</a></li>
            </ul>
        </nav>
    </section>
</header>

<div class="phpdocumentor-header">
    <section class="phpdocumentor-section">
        <h1 class="phpdocumentor-title">WooCommerce Code Reference</h1>
        <section class="phpdocumentor-search">
    <label class="phpdocumentor-label">
        <span class="visually-hidden">Search (click ESC to close search results)</span>
        <input id="autoComplete" tabindex="1" type="search" class="phpdocumentor-field phpdocumentor-search__field" placeholder="Loading..." disabled />
    </label>
</section>

    </section>
</div>

    <main class="phpdocumentor">
        <div class="phpdocumentor-section">
            <aside class="phpdocumentor-column -four phpdocumentor-sidebar">
    
    <section class="phpdocumentor-sidebar__category">
        <h2 class="phpdocumentor-sidebar__category-header">Namespaces</h2>
            </section>

        <section class="phpdocumentor-sidebar__category">
        <h2 class="phpdocumentor-sidebar__category-header">Packages</h2>
                    <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/WooCommerceSubscriptionsAdmin.html"><abbr title="\WooCommerceSubscriptionsAdmin">WooCommerceSubscriptionsAdmin</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/WooCommerceSubscriptionsClasses.html"><abbr title="\WooCommerceSubscriptionsClasses">WooCommerceSubscriptionsClasses</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/WooCommerceSubscriptions.html"><abbr title="\WooCommerceSubscriptions">WooCommerceSubscriptions</abbr></a></h3>
                        <ul class="phpdocumentor-list">
                                    <li><a href="../packages/WooCommerceSubscriptions-WC.html"><abbr title="\WooCommerceSubscriptions\WC">WC</abbr></a></li>
                                    <li><a href="../packages/WooCommerceSubscriptions-RestApi.html"><abbr title="\WooCommerceSubscriptions\RestApi">RestApi</abbr></a></li>
                                    <li><a href="../packages/WooCommerceSubscriptions-WCS.html"><abbr title="\WooCommerceSubscriptions\WCS">WCS</abbr></a></li>
                                    <li><a href="../packages/WooCommerceSubscriptions-GatewaysPayPal.html"><abbr title="\WooCommerceSubscriptions\GatewaysPayPal">GatewaysPayPal</abbr></a></li>
                                    <li><a href="../packages/WooCommerceSubscriptions-Privacy.html"><abbr title="\WooCommerceSubscriptions\Privacy">Privacy</abbr></a></li>
                            </ul>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/WooCommerce.html"><abbr title="\WooCommerce">WooCommerce</abbr></a></h3>
                        <ul class="phpdocumentor-list">
                                    <li><a href="../packages/WooCommerce-SubscriptionsAPI.html"><abbr title="\WooCommerce\SubscriptionsAPI">SubscriptionsAPI</abbr></a></li>
                                    <li><a href="../packages/WooCommerce-SubscriptionsIncludesEmails.html"><abbr title="\WooCommerce\SubscriptionsIncludesEmails">SubscriptionsIncludesEmails</abbr></a></li>
                                    <li><a href="../packages/WooCommerce-SubscriptionsClassesEmails.html"><abbr title="\WooCommerce\SubscriptionsClassesEmails">SubscriptionsClassesEmails</abbr></a></li>
                            </ul>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/WC.html"><abbr title="\WC">WC</abbr></a></h3>
                        <ul class="phpdocumentor-list">
                                    <li><a href="../packages/WC-Subscriptions.html"><abbr title="\WC\Subscriptions">Subscriptions</abbr></a></li>
                            </ul>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/WooCommerceSubscriptionsAdminUpgrades.html"><abbr title="\WooCommerceSubscriptionsAdminUpgrades">WooCommerceSubscriptionsAdminUpgrades</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/WooCommerceSubscriptionsFunctions.html"><abbr title="\WooCommerceSubscriptionsFunctions">WooCommerceSubscriptionsFunctions</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/WooCommerceSubscriptionsAdminMetaBoxes.html"><abbr title="\WooCommerceSubscriptionsAdminMetaBoxes">WooCommerceSubscriptionsAdminMetaBoxes</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/WooCommerceSubscriptionsAbstracts.html"><abbr title="\WooCommerceSubscriptionsAbstracts">WooCommerceSubscriptionsAbstracts</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/WooCommerceSubscriptionsIncludes.html"><abbr title="\WooCommerceSubscriptionsIncludes">WooCommerceSubscriptionsIncludes</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/WooCommerceClassesEmails.html"><abbr title="\WooCommerceClassesEmails">WooCommerceClassesEmails</abbr></a></h3>
                                <h3 class="phpdocumentor-sidebar__root-package"><a href="../packages/SkyVergeWooCommerceAPI.html"><abbr title="\SkyVergeWooCommerceAPI">SkyVergeWooCommerceAPI</abbr></a></h3>
                        </section>
    
    <section class="phpdocumentor-sidebar__category">
        <h2 class="phpdocumentor-sidebar__category-header">Reports</h2>
                <h3 class="phpdocumentor-sidebar__root-package"><a href="../reports/deprecated.html">Deprecated</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="../reports/errors.html">Errors</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="../reports/markers.html">Markers</a></h3>
    </section>

    <section class="phpdocumentor-sidebar__category">
        <h2 class="phpdocumentor-sidebar__category-header">Indices</h2>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="../indices/files.html">Files</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="../hooks/hooks.html">Hooks Reference</a></h3>
    </section>
</aside>

            <div class="phpdocumentor-column -eight phpdocumentor-content">
                    <ul class="phpdocumentor-breadcrumbs">
            <li class="phpdocumentor-breadcrumb"><a href="../packages/WooCommerceSubscriptionsAdminUpgrades.html">WooCommerceSubscriptionsAdminUpgrades</a></li>
    </ul>

    <article class="phpdocumentor-element -class">
        <h2 class="phpdocumentor-content__title">
    WC_Subscriptions_Upgrader

    
            <div class="phpdocumentor-element__package">
            in package
            <ul class="phpdocumentor-breadcrumbs">
                                    <li class="phpdocumentor-breadcrumb"><a href="../packages/WooCommerceSubscriptionsAdminUpgrades.html">WooCommerceSubscriptionsAdminUpgrades</a></li>
                            </ul>
        </div>
    
    
    </h2>

        <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="woocommerce-subscriptions/vendor/woocommerce/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php"><a href="../files/woocommerce-subscriptions-vendor-woocommerce-subscriptions-core-includes-upgrades-class-wc-subscriptions-upgrader.html#source-view.17">woocommerce-subscriptions/vendor/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">17</span>
</aside>

            <p class="phpdocumentor-summary">A timeout resistant, single-serve upgrader for WC Subscriptions.</p>

    <section class="phpdocumentor-description"><p>This class is used to make all reasonable attempts to neatly upgrade data between versions of Subscriptions.</p>
<p>For example, the way subscription data is stored changed significantly between v1.n and v2.0. It was imperative
the data be upgraded to the new schema without hassle. A hassle could easily occur if 100,000 orders were being
modified - memory exhaustion, script time out etc.</p>
</section>


    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">author</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                                        <section class="phpdocumentor-description"><p>Prospress</p>
</section>

                </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">category</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                                        <section class="phpdocumentor-description"><p>Admin</p>
</section>

                </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">version</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">2.0.0</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">1.2</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>






<h3 id="toc">
    Table of Contents
    <a href="#toc" class="headerlink"><i class="fas fa-link"></i></a>
</h3>

<dl class="phpdocumentor-table-of-contents">
                <dt class="phpdocumentor-table-of-contents__entry -property -public">
    <a href="../classes/WC-Subscriptions-Upgrader.html#property_is_wc_version_2">$is_wc_version_2</a>
    <span>
                &nbsp;: mixed            </span>
</dt>
<dd></dd>

            <dt class="phpdocumentor-table-of-contents__entry -property -public">
    <a href="../classes/WC-Subscriptions-Upgrader.html#property_updated_to_wc_2_0">$updated_to_wc_2_0</a>
    <span>
                &nbsp;: mixed            </span>
</dt>
<dd></dd>

            <dt class="phpdocumentor-table-of-contents__entry -property -protected">
    <a href="../classes/WC-Subscriptions-Upgrader.html#property_background_updaters">$background_updaters</a>
    <span>
                &nbsp;: array&lt;string|int, mixed&gt;            </span>
</dt>
<dd></dd>

            <dt class="phpdocumentor-table-of-contents__entry -property -private">
    <a href="../classes/WC-Subscriptions-Upgrader.html#property_about_page_url">$about_page_url</a>
    <span>
                &nbsp;: mixed            </span>
</dt>
<dd></dd>

            <dt class="phpdocumentor-table-of-contents__entry -property -private">
    <a href="../classes/WC-Subscriptions-Upgrader.html#property_active_version">$active_version</a>
    <span>
                &nbsp;: mixed            </span>
</dt>
<dd></dd>

            <dt class="phpdocumentor-table-of-contents__entry -property -private">
    <a href="../classes/WC-Subscriptions-Upgrader.html#property_old_subscription_count">$old_subscription_count</a>
    <span>
                &nbsp;: mixed            </span>
</dt>
<dd></dd>

            <dt class="phpdocumentor-table-of-contents__entry -property -private">
    <a href="../classes/WC-Subscriptions-Upgrader.html#property_upgrade_limit_hooks">$upgrade_limit_hooks</a>
    <span>
                &nbsp;: mixed            </span>
</dt>
<dd></dd>

            <dt class="phpdocumentor-table-of-contents__entry -property -private">
    <a href="../classes/WC-Subscriptions-Upgrader.html#property_upgrade_limit_subscriptions">$upgrade_limit_subscriptions</a>
    <span>
                &nbsp;: mixed            </span>
</dt>
<dd></dd>

                <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a href="../classes/WC-Subscriptions-Upgrader.html#method_about_screen">about_screen()</a>
    <span>
                        &nbsp;: mixed    </span>
</dt>
<dd>Output the about screen.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a href="../classes/WC-Subscriptions-Upgrader.html#method_admin_css">admin_css()</a>
    <span>
                        &nbsp;: void    </span>
</dt>
<dd>admin_css function.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a href="../classes/WC-Subscriptions-Upgrader.html#method_admin_head">admin_head()</a>
    <span>
                        &nbsp;: void    </span>
</dt>
<dd>Add styles just for this page, and remove dashboard page links.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a href="../classes/WC-Subscriptions-Upgrader.html#method_ajax_upgrade">ajax_upgrade()</a>
    <span>
                        &nbsp;: mixed    </span>
</dt>
<dd>Move scheduled subscription hooks out of wp-cron and into the new Action Scheduler.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a href="../classes/WC-Subscriptions-Upgrader.html#method_display_database_upgrade_helper">display_database_upgrade_helper()</a>
    <span>
                        &nbsp;: mixed    </span>
</dt>
<dd>Let the site administrator know we are upgrading the database and provide a confirmation is complete.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a href="../classes/WC-Subscriptions-Upgrader.html#method_get_subscription_query">get_subscription_query()</a>
    <span>
                        &nbsp;: string    </span>
</dt>
<dd>Single source of truth for the query</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a href="../classes/WC-Subscriptions-Upgrader.html#method_init">init()</a>
    <span>
                        &nbsp;: mixed    </span>
</dt>
<dd>Hooks upgrade function to init.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a href="../classes/WC-Subscriptions-Upgrader.html#method_initialise_background_updaters">initialise_background_updaters()</a>
    <span>
                        &nbsp;: mixed    </span>
</dt>
<dd>Load and initialise the background updaters.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a href="../classes/WC-Subscriptions-Upgrader.html#method_is_user_upgraded_to_1_4">is_user_upgraded_to_1_4()</a>
    <span>
                        &nbsp;: mixed    </span>
</dt>
<dd>Used to check if a user ID is greater than the last user upgraded to version 1.4.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a href="../classes/WC-Subscriptions-Upgrader.html#method_maybe_add_downgrade_notice">maybe_add_downgrade_notice()</a>
    <span>
                        &nbsp;: mixed    </span>
</dt>
<dd>Display an admin notice if the database version is greater than the active version of the plugin by at least one minor release (eg 1.1 and 1.0).</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a href="../classes/WC-Subscriptions-Upgrader.html#method_maybe_add_subscription_address_indexes">maybe_add_subscription_address_indexes()</a>
    <span>
                        &nbsp;: mixed    </span>
</dt>
<dd>When updating WC to a version after 3.0 from a version prior to 3.0, schedule the repair script to add address indexes.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a href="../classes/WC-Subscriptions-Upgrader.html#method_maybe_block_paypal_ipn">maybe_block_paypal_ipn()</a>
    <span>
                        &nbsp;: mixed    </span>
</dt>
<dd>While the upgrade is in progress, we need to block IPN messages to avoid renewals failing to process correctly.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a href="../classes/WC-Subscriptions-Upgrader.html#method_maybe_display_external_object_cache_warning">maybe_display_external_object_cache_warning()</a>
    <span>
                        &nbsp;: mixed    </span>
</dt>
<dd>Display an admin notice if the site had customer subscription and/or subscription renewal order cached data stored in the options table
and was using an external object cache at the time of updating to 2.3.3.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a href="../classes/WC-Subscriptions-Upgrader.html#method_maybe_redirect_after_upgrade_complete">maybe_redirect_after_upgrade_complete()</a>
    <span>
                        &nbsp;: mixed    </span>
</dt>
<dd>Redirect to the Subscriptions major version Welcome/About page for major version updates</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a href="../classes/WC-Subscriptions-Upgrader.html#method_maybe_update_subscription_post_author">maybe_update_subscription_post_author()</a>
    <span>
                        &nbsp;: mixed    </span>
</dt>
<dd>Handles the WC 3.5.0 upgrade routine that moves customer IDs from post metadata to the &#039;post_author&#039; column.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a href="../classes/WC-Subscriptions-Upgrader.html#method_repair_end_of_prepaid_term_actions">repair_end_of_prepaid_term_actions()</a>
    <span>
                        &nbsp;: mixed    </span>
</dt>
<dd>Run the end of prepaid term repair script.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a href="../classes/WC-Subscriptions-Upgrader.html#method_repair_subscription_contains_sync_meta">repair_subscription_contains_sync_meta()</a>
    <span>
                        &nbsp;: mixed    </span>
</dt>
<dd>Repair subscriptions with missing contains_synced_subscription post meta.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a href="../classes/WC-Subscriptions-Upgrader.html#method_repair_subtracted_base_taxes">repair_subtracted_base_taxes()</a>
    <span>
                        &nbsp;: mixed    </span>
</dt>
<dd>Repair a single item&#039;s subtracted base tax meta.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a href="../classes/WC-Subscriptions-Upgrader.html#method_updated_welcome_page">updated_welcome_page()</a>
    <span>
                        &nbsp;: mixed    </span>
</dt>
<dd>Display the Subscriptions welcome/about page after successfully upgrading to the latest version.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a href="../classes/WC-Subscriptions-Upgrader.html#method_upgrade">upgrade()</a>
    <span>
                        &nbsp;: mixed    </span>
</dt>
<dd>Checks which upgrades need to run and calls the necessary functions for that upgrade.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a href="../classes/WC-Subscriptions-Upgrader.html#method_upgrade_complete">upgrade_complete()</a>
    <span>
                        &nbsp;: mixed    </span>
</dt>
<dd>When an upgrade is complete, set the active version, delete the transient locking upgrade and fire a hook.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -public">
    <a href="../classes/WC-Subscriptions-Upgrader.html#method_upgrade_in_progress_notice">upgrade_in_progress_notice()</a>
    <span>
                        &nbsp;: mixed    </span>
</dt>
<dd>Let the site administrator know we are upgrading the database already to prevent duplicate processes running the
upgrade. Also provides some useful diagnostic information, like how long before the site admin can restart the
upgrade process, and how many subscriptions per request can typically be updated given the amount of memory
allocated to PHP.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -protected">
    <a href="../classes/WC-Subscriptions-Upgrader.html#method_migrated_subscription_count">migrated_subscription_count()</a>
    <span>
                        &nbsp;: bool    </span>
</dt>
<dd>Check if the database has some data that was migrated from 1.5 to 2.0</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -protected">
    <a href="../classes/WC-Subscriptions-Upgrader.html#method_set_cron_lock">set_cron_lock()</a>
    <span>
                        &nbsp;: mixed    </span>
</dt>
<dd>Try to block WP-Cron until upgrading finishes. spawn_cron() will only let us steal the lock for 10 minutes into the future, so
we can actually only block it for 9 minutes confidently. But as long as the upgrade process continues, the lock will remain.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -protected">
    <a href="../classes/WC-Subscriptions-Upgrader.html#method_set_upgrade_limits">set_upgrade_limits()</a>
    <span>
                        &nbsp;: mixed    </span>
</dt>
<dd>Set limits on the number of items to upgrade at any one time based on the size of the site.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -private">
    <a href="../classes/WC-Subscriptions-Upgrader.html#method_ajax_upgrade_handler">ajax_upgrade_handler()</a>
    <span>
                        &nbsp;: mixed    </span>
</dt>
<dd>Add support for quantities for subscriptions.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -private">
    <a href="../classes/WC-Subscriptions-Upgrader.html#method_generate_renewal_orders">generate_renewal_orders()</a>
    <span>
                        &nbsp;: mixed    </span>
</dt>
<dd>Version 1.2 introduced child renewal orders to keep a record of each completed subscription
payment. Before 1.2, these orders did not exist, so this function creates them.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -private">
    <a href="../classes/WC-Subscriptions-Upgrader.html#method_get_total_subscription_count">get_total_subscription_count()</a>
    <span>
                        &nbsp;: mixed    </span>
</dt>
<dd>In v2.0 and newer, it&#039;s possible to simply use wp_count_posts( &#039;shop_subscription&#039; ) to count subscriptions,
but not in v1.5, because a subscription data is still stored in order item meta. This function queries the
v1.5 database structure.</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -private">
    <a href="../classes/WC-Subscriptions-Upgrader.html#method_get_total_subscription_count_query">get_total_subscription_count_query()</a>
    <span>
                        &nbsp;: int    </span>
</dt>
<dd>Returns the number of subscriptions left in the 1.5 structure</dd>

            <dt class="phpdocumentor-table-of-contents__entry -method -private">
    <a href="../classes/WC-Subscriptions-Upgrader.html#method_upgrade_really_old_versions">upgrade_really_old_versions()</a>
    <span>
                        &nbsp;: mixed    </span>
</dt>
<dd>Handle upgrades for really old versions.</dd>

        </dl>



        

        
    <section class="phpdocumentor-properties">
        <h3 class="phpdocumentor-elements__header" id="properties">
            Properties
            <a href="#properties" class="headerlink"><i class="fas fa-link"></i></a>
        </h3>
                    <article
        class="
            phpdocumentor-element
            -property
            -public
            -static                                            "
>
    <h4 class="phpdocumentor-element__name" id="property_is_wc_version_2">
        $is_wc_version_2
        <a href="#property_is_wc_version_2" class="headerlink"><i class="fas fa-link"></i></a>
        <span class="phpdocumentor-element__modifiers">
                                </span>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="woocommerce-subscriptions/vendor/woocommerce/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php"><a href="../files/woocommerce-subscriptions-vendor-woocommerce-subscriptions-core-includes-upgrades-class-wc-subscriptions-upgrader.html#source-view.29">woocommerce-subscriptions/vendor/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">29</span>
</aside>

    
    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
    <span class="phpdocumentor-signature__static">static</span>    <span class="phpdocumentor-signature__type">mixed</span>
    <span class="phpdocumentor-signature__name">$is_wc_version_2</span>
     = <span class="phpdocumentor-signature__default-value">alse</span></code>

    
    

</article>
                    <article
        class="
            phpdocumentor-element
            -property
            -public
            -static                                            "
>
    <h4 class="phpdocumentor-element__name" id="property_updated_to_wc_2_0">
        $updated_to_wc_2_0
        <a href="#property_updated_to_wc_2_0" class="headerlink"><i class="fas fa-link"></i></a>
        <span class="phpdocumentor-element__modifiers">
                                </span>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="woocommerce-subscriptions/vendor/woocommerce/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php"><a href="../files/woocommerce-subscriptions-vendor-woocommerce-subscriptions-core-includes-upgrades-class-wc-subscriptions-upgrader.html#source-view.31">woocommerce-subscriptions/vendor/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">31</span>
</aside>

    
    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
    <span class="phpdocumentor-signature__static">static</span>    <span class="phpdocumentor-signature__type">mixed</span>
    <span class="phpdocumentor-signature__name">$updated_to_wc_2_0</span>
    </code>

    
    

</article>
                    <article
        class="
            phpdocumentor-element
            -property
            -protected
            -static                                            "
>
    <h4 class="phpdocumentor-element__name" id="property_background_updaters">
        $background_updaters
        <a href="#property_background_updaters" class="headerlink"><i class="fas fa-link"></i></a>
        <span class="phpdocumentor-element__modifiers">
                                </span>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="woocommerce-subscriptions/vendor/woocommerce/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php"><a href="../files/woocommerce-subscriptions-vendor-woocommerce-subscriptions-core-includes-upgrades-class-wc-subscriptions-upgrader.html#source-view.36">woocommerce-subscriptions/vendor/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">36</span>
</aside>

    
    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">protected</span>
    <span class="phpdocumentor-signature__static">static</span>    <span class="phpdocumentor-signature__type">array&lt;string|int, mixed&gt;</span>
    <span class="phpdocumentor-signature__name">$background_updaters</span>
     = <span class="phpdocumentor-signature__default-value">array()</span></code>

        <section class="phpdocumentor-description"></section>

    

</article>
                    <article
        class="
            phpdocumentor-element
            -property
            -private
            -static                                            "
>
    <h4 class="phpdocumentor-element__name" id="property_about_page_url">
        $about_page_url
        <a href="#property_about_page_url" class="headerlink"><i class="fas fa-link"></i></a>
        <span class="phpdocumentor-element__modifiers">
                                </span>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="woocommerce-subscriptions/vendor/woocommerce/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php"><a href="../files/woocommerce-subscriptions-vendor-woocommerce-subscriptions-core-includes-upgrades-class-wc-subscriptions-upgrader.html#source-view.25">woocommerce-subscriptions/vendor/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">25</span>
</aside>

    
    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">private</span>
    <span class="phpdocumentor-signature__static">static</span>    <span class="phpdocumentor-signature__type">mixed</span>
    <span class="phpdocumentor-signature__name">$about_page_url</span>
    </code>

    
    

</article>
                    <article
        class="
            phpdocumentor-element
            -property
            -private
            -static                                            "
>
    <h4 class="phpdocumentor-element__name" id="property_active_version">
        $active_version
        <a href="#property_active_version" class="headerlink"><i class="fas fa-link"></i></a>
        <span class="phpdocumentor-element__modifiers">
                                </span>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="woocommerce-subscriptions/vendor/woocommerce/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php"><a href="../files/woocommerce-subscriptions-vendor-woocommerce-subscriptions-core-includes-upgrades-class-wc-subscriptions-upgrader.html#source-view.19">woocommerce-subscriptions/vendor/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">19</span>
</aside>

    
    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">private</span>
    <span class="phpdocumentor-signature__static">static</span>    <span class="phpdocumentor-signature__type">mixed</span>
    <span class="phpdocumentor-signature__name">$active_version</span>
    </code>

    
    

</article>
                    <article
        class="
            phpdocumentor-element
            -property
            -private
            -static                                            "
>
    <h4 class="phpdocumentor-element__name" id="property_old_subscription_count">
        $old_subscription_count
        <a href="#property_old_subscription_count" class="headerlink"><i class="fas fa-link"></i></a>
        <span class="phpdocumentor-element__modifiers">
                                </span>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="woocommerce-subscriptions/vendor/woocommerce/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php"><a href="../files/woocommerce-subscriptions-vendor-woocommerce-subscriptions-core-includes-upgrades-class-wc-subscriptions-upgrader.html#source-view.27">woocommerce-subscriptions/vendor/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">27</span>
</aside>

    
    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">private</span>
    <span class="phpdocumentor-signature__static">static</span>    <span class="phpdocumentor-signature__type">mixed</span>
    <span class="phpdocumentor-signature__name">$old_subscription_count</span>
     = <span class="phpdocumentor-signature__default-value">
ull</span></code>

    
    

</article>
                    <article
        class="
            phpdocumentor-element
            -property
            -private
            -static                                            "
>
    <h4 class="phpdocumentor-element__name" id="property_upgrade_limit_hooks">
        $upgrade_limit_hooks
        <a href="#property_upgrade_limit_hooks" class="headerlink"><i class="fas fa-link"></i></a>
        <span class="phpdocumentor-element__modifiers">
                                </span>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="woocommerce-subscriptions/vendor/woocommerce/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php"><a href="../files/woocommerce-subscriptions-vendor-woocommerce-subscriptions-core-includes-upgrades-class-wc-subscriptions-upgrader.html#source-view.21">woocommerce-subscriptions/vendor/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">21</span>
</aside>

    
    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">private</span>
    <span class="phpdocumentor-signature__static">static</span>    <span class="phpdocumentor-signature__type">mixed</span>
    <span class="phpdocumentor-signature__name">$upgrade_limit_hooks</span>
    </code>

    
    

</article>
                    <article
        class="
            phpdocumentor-element
            -property
            -private
            -static                                            "
>
    <h4 class="phpdocumentor-element__name" id="property_upgrade_limit_subscriptions">
        $upgrade_limit_subscriptions
        <a href="#property_upgrade_limit_subscriptions" class="headerlink"><i class="fas fa-link"></i></a>
        <span class="phpdocumentor-element__modifiers">
                                </span>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="woocommerce-subscriptions/vendor/woocommerce/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php"><a href="../files/woocommerce-subscriptions-vendor-woocommerce-subscriptions-core-includes-upgrades-class-wc-subscriptions-upgrader.html#source-view.23">woocommerce-subscriptions/vendor/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">23</span>
</aside>

    
    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">private</span>
    <span class="phpdocumentor-signature__static">static</span>    <span class="phpdocumentor-signature__type">mixed</span>
    <span class="phpdocumentor-signature__name">$upgrade_limit_subscriptions</span>
    </code>

    
    

</article>
            </section>

            <section class="phpdocumentor-methods">
        <h3 class="phpdocumentor-elements__header" id="methods">
            Methods
            <a href="#methods" class="headerlink"><i class="fas fa-link"></i></a>
        </h3>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                    -static                    "
>
    <h4 class="phpdocumentor-element__name" id="method_about_screen">
        about_screen()
        <a href="#method_about_screen" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="woocommerce-subscriptions/vendor/woocommerce/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php"><a href="../files/woocommerce-subscriptions-vendor-woocommerce-subscriptions-core-includes-upgrades-class-wc-subscriptions-upgrader.html#source-view.676">woocommerce-subscriptions/vendor/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">676</span>
</aside>

        <p class="phpdocumentor-summary">Output the about screen.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
            <span class="phpdocumentor-signature__static">static</span>    <span class="phpdocumentor-signature__name">about_screen</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span></code>

        <section class="phpdocumentor-description"></section>

    
    

        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
    <span class="phpdocumentor-signature__response_type">mixed</span>
            &mdash; <span class="phpdocumentor-return-value__description"></span>
    
</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                    -static                    "
>
    <h4 class="phpdocumentor-element__name" id="method_admin_css">
        admin_css()
        <a href="#method_admin_css" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="woocommerce-subscriptions/vendor/woocommerce/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php"><a href="../files/woocommerce-subscriptions-vendor-woocommerce-subscriptions-core-includes-upgrades-class-wc-subscriptions-upgrader.html#source-view.659">woocommerce-subscriptions/vendor/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">659</span>
</aside>

        <p class="phpdocumentor-summary">admin_css function.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
            <span class="phpdocumentor-signature__static">static</span>    <span class="phpdocumentor-signature__name">admin_css</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">void</span></code>

        <section class="phpdocumentor-description"></section>

    
    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">access</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                                        <section class="phpdocumentor-description"><p>public</p>
</section>

                </dd>
                        </dl>

        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
    <span class="phpdocumentor-signature__response_type">void</span>
            &mdash; <span class="phpdocumentor-return-value__description"></span>
    
</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                    -static                    "
>
    <h4 class="phpdocumentor-element__name" id="method_admin_head">
        admin_head()
        <a href="#method_admin_head" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="woocommerce-subscriptions/vendor/woocommerce/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php"><a href="../files/woocommerce-subscriptions-vendor-woocommerce-subscriptions-core-includes-upgrades-class-wc-subscriptions-upgrader.html#source-view.669">woocommerce-subscriptions/vendor/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">669</span>
</aside>

        <p class="phpdocumentor-summary">Add styles just for this page, and remove dashboard page links.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
            <span class="phpdocumentor-signature__static">static</span>    <span class="phpdocumentor-signature__name">admin_head</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">void</span></code>

        <section class="phpdocumentor-description"></section>

    
    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">access</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                                        <section class="phpdocumentor-description"><p>public</p>
</section>

                </dd>
                        </dl>

        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
    <span class="phpdocumentor-signature__response_type">void</span>
            &mdash; <span class="phpdocumentor-return-value__description"></span>
    
</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                    -static                    "
>
    <h4 class="phpdocumentor-element__name" id="method_ajax_upgrade">
        ajax_upgrade()
        <a href="#method_ajax_upgrade" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="woocommerce-subscriptions/vendor/woocommerce/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php"><a href="../files/woocommerce-subscriptions-vendor-woocommerce-subscriptions-core-includes-upgrades-class-wc-subscriptions-upgrader.html#source-view.332">woocommerce-subscriptions/vendor/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">332</span>
</aside>

        <p class="phpdocumentor-summary">Move scheduled subscription hooks out of wp-cron and into the new Action Scheduler.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
            <span class="phpdocumentor-signature__static">static</span>    <span class="phpdocumentor-signature__name">ajax_upgrade</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span></code>

        <section class="phpdocumentor-description"><p>Also set all existing subscriptions to &quot;sold individually&quot; to maintain previous behavior
for existing subscription products before the subscription quantities feature was enabled..</p>
</section>

    
    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">1.5</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
    <span class="phpdocumentor-signature__response_type">mixed</span>
            &mdash; <span class="phpdocumentor-return-value__description"></span>
    
</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                    -static                    "
>
    <h4 class="phpdocumentor-element__name" id="method_display_database_upgrade_helper">
        display_database_upgrade_helper()
        <a href="#method_display_database_upgrade_helper" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="woocommerce-subscriptions/vendor/woocommerce/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php"><a href="../files/woocommerce-subscriptions-vendor-woocommerce-subscriptions-core-includes-upgrades-class-wc-subscriptions-upgrader.html#source-view.575">woocommerce-subscriptions/vendor/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">575</span>
</aside>

        <p class="phpdocumentor-summary">Let the site administrator know we are upgrading the database and provide a confirmation is complete.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
            <span class="phpdocumentor-signature__static">static</span>    <span class="phpdocumentor-signature__name">display_database_upgrade_helper</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span></code>

        <section class="phpdocumentor-description"><p>This is important to avoid the possibility of a database not upgrading correctly, but the site continuing
to function without any remedy.</p>
</section>

    
    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">1.2</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
    <span class="phpdocumentor-signature__response_type">mixed</span>
            &mdash; <span class="phpdocumentor-return-value__description"></span>
    
</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                    -static                    "
>
    <h4 class="phpdocumentor-element__name" id="method_get_subscription_query">
        get_subscription_query()
        <a href="#method_get_subscription_query" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="woocommerce-subscriptions/vendor/woocommerce/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php"><a href="../files/woocommerce-subscriptions-vendor-woocommerce-subscriptions-core-includes-upgrades-class-wc-subscriptions-upgrader.html#source-view.732">woocommerce-subscriptions/vendor/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">732</span>
</aside>

        <p class="phpdocumentor-summary">Single source of truth for the query</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
            <span class="phpdocumentor-signature__static">static</span>    <span class="phpdocumentor-signature__name">get_subscription_query</span><span>(</span><span class="phpdocumentor-signature__argument"><span>[</span><span class="phpdocumentor-signature__argument__return-type">mixed&nbsp;</span><span class="phpdocumentor-signature__argument__name">$batch_size</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">null</span><span> ]</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">string</span></code>

        <section class="phpdocumentor-description"></section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$batch_size</span>
                : <span class="phpdocumentor-signature__argument__return-type">mixed</span>
                 = <span class="phpdocumentor-signature__argument__default-value">null</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                
            </dd>
            </dl>

    

        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
    <span class="phpdocumentor-signature__response_type">string</span>
            &mdash; <span class="phpdocumentor-return-value__description">SQL query of what we need</span>
    
</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                    -static                    "
>
    <h4 class="phpdocumentor-element__name" id="method_init">
        init()
        <a href="#method_init" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="woocommerce-subscriptions/vendor/woocommerce/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php"><a href="../files/woocommerce-subscriptions-vendor-woocommerce-subscriptions-core-includes-upgrades-class-wc-subscriptions-upgrader.html#source-view.43">woocommerce-subscriptions/vendor/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">43</span>
</aside>

        <p class="phpdocumentor-summary">Hooks upgrade function to init.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
            <span class="phpdocumentor-signature__static">static</span>    <span class="phpdocumentor-signature__name">init</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span></code>

        <section class="phpdocumentor-description"></section>

    
    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">1.2</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
    <span class="phpdocumentor-signature__response_type">mixed</span>
            &mdash; <span class="phpdocumentor-return-value__description"></span>
    
</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                    -static                    "
>
    <h4 class="phpdocumentor-element__name" id="method_initialise_background_updaters">
        initialise_background_updaters()
        <a href="#method_initialise_background_updaters" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="woocommerce-subscriptions/vendor/woocommerce/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php"><a href="../files/woocommerce-subscriptions-vendor-woocommerce-subscriptions-core-includes-upgrades-class-wc-subscriptions-upgrader.html#source-view.835">woocommerce-subscriptions/vendor/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">835</span>
</aside>

        <p class="phpdocumentor-summary">Load and initialise the background updaters.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
            <span class="phpdocumentor-signature__static">static</span>    <span class="phpdocumentor-signature__name">initialise_background_updaters</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span></code>

        <section class="phpdocumentor-description"></section>

    
    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">2.4.0</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
    <span class="phpdocumentor-signature__response_type">mixed</span>
            &mdash; <span class="phpdocumentor-return-value__description"></span>
    
</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                    -static                    "
>
    <h4 class="phpdocumentor-element__name" id="method_is_user_upgraded_to_1_4">
        is_user_upgraded_to_1_4()
        <a href="#method_is_user_upgraded_to_1_4" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="woocommerce-subscriptions/vendor/woocommerce/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php"><a href="../files/woocommerce-subscriptions-vendor-woocommerce-subscriptions-core-includes-upgrades-class-wc-subscriptions-upgrader.html#source-view.935">woocommerce-subscriptions/vendor/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">935</span>
</aside>

        <p class="phpdocumentor-summary">Used to check if a user ID is greater than the last user upgraded to version 1.4.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
            <span class="phpdocumentor-signature__static">static</span>    <span class="phpdocumentor-signature__name">is_user_upgraded_to_1_4</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">mixed&nbsp;</span><span class="phpdocumentor-signature__argument__name">$user_id</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span></code>

        <section class="phpdocumentor-description"><p>Needs to be a separate function so that it can use a static variable (and therefore avoid calling get_option() thousands
of times when iterating over thousands of users).</p>
</section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$user_id</span>
                : <span class="phpdocumentor-signature__argument__return-type">mixed</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                
            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">1.4</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
    <span class="phpdocumentor-signature__response_type">mixed</span>
            &mdash; <span class="phpdocumentor-return-value__description"></span>
    
</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
            -deprecated                        -static                    "
>
    <h4 class="phpdocumentor-element__name" id="method_maybe_add_downgrade_notice">
        maybe_add_downgrade_notice()
        <a href="#method_maybe_add_downgrade_notice" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="woocommerce-subscriptions/vendor/woocommerce/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php"><a href="../files/woocommerce-subscriptions-vendor-woocommerce-subscriptions-core-includes-upgrades-class-wc-subscriptions-upgrader.html#source-view.946">woocommerce-subscriptions/vendor/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">946</span>
</aside>

        <p class="phpdocumentor-summary">Display an admin notice if the database version is greater than the active version of the plugin by at least one minor release (eg 1.1 and 1.0).</p>

    <code class="phpdocumentor-code phpdocumentor-signature -deprecated">
    <span class="phpdocumentor-signature__visibility">public</span>
            <span class="phpdocumentor-signature__static">static</span>    <span class="phpdocumentor-signature__name">maybe_add_downgrade_notice</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span></code>

        <section class="phpdocumentor-description"></section>

    
    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">2.3.0</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">deprecated</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">1.2.0</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
    <span class="phpdocumentor-signature__response_type">mixed</span>
            &mdash; <span class="phpdocumentor-return-value__description"></span>
    
</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                    -static                    "
>
    <h4 class="phpdocumentor-element__name" id="method_maybe_add_subscription_address_indexes">
        maybe_add_subscription_address_indexes()
        <a href="#method_maybe_add_subscription_address_indexes" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="woocommerce-subscriptions/vendor/woocommerce/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php"><a href="../files/woocommerce-subscriptions-vendor-woocommerce-subscriptions-core-includes-upgrades-class-wc-subscriptions-upgrader.html#source-view.821">woocommerce-subscriptions/vendor/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">821</span>
</aside>

        <p class="phpdocumentor-summary">When updating WC to a version after 3.0 from a version prior to 3.0, schedule the repair script to add address indexes.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
            <span class="phpdocumentor-signature__static">static</span>    <span class="phpdocumentor-signature__name">maybe_add_subscription_address_indexes</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span></code>

        <section class="phpdocumentor-description"></section>

    
    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">2.3.0</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
    <span class="phpdocumentor-signature__response_type">mixed</span>
            &mdash; <span class="phpdocumentor-return-value__description"></span>
    
</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                    -static                    "
>
    <h4 class="phpdocumentor-element__name" id="method_maybe_block_paypal_ipn">
        maybe_block_paypal_ipn()
        <a href="#method_maybe_block_paypal_ipn" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="woocommerce-subscriptions/vendor/woocommerce/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php"><a href="../files/woocommerce-subscriptions-vendor-woocommerce-subscriptions-core-includes-upgrades-class-wc-subscriptions-upgrader.html#source-view.791">woocommerce-subscriptions/vendor/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">791</span>
</aside>

        <p class="phpdocumentor-summary">While the upgrade is in progress, we need to block IPN messages to avoid renewals failing to process correctly.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
            <span class="phpdocumentor-signature__static">static</span>    <span class="phpdocumentor-signature__name">maybe_block_paypal_ipn</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span></code>

        <section class="phpdocumentor-description"><p>PayPal will retry the IPNs for up to a day or two until it has a successful request, so the store will continue to receive
IPN messages during the upgrade process, then once it is completed, the IPN will be successfully processed.</p>
<p>The method returns a 409 Conflict HTTP response code to indicate that the IPN is conflicting with the upgrader.</p>
</section>

    
    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">2.0</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
    <span class="phpdocumentor-signature__response_type">mixed</span>
            &mdash; <span class="phpdocumentor-return-value__description"></span>
    
</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                    -static                    "
>
    <h4 class="phpdocumentor-element__name" id="method_maybe_display_external_object_cache_warning">
        maybe_display_external_object_cache_warning()
        <a href="#method_maybe_display_external_object_cache_warning" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="woocommerce-subscriptions/vendor/woocommerce/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php"><a href="../files/woocommerce-subscriptions-vendor-woocommerce-subscriptions-core-includes-upgrades-class-wc-subscriptions-upgrader.html#source-view.860">woocommerce-subscriptions/vendor/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">860</span>
</aside>

        <p class="phpdocumentor-summary">Display an admin notice if the site had customer subscription and/or subscription renewal order cached data stored in the options table
and was using an external object cache at the time of updating to 2.3.3.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
            <span class="phpdocumentor-signature__static">static</span>    <span class="phpdocumentor-signature__name">maybe_display_external_object_cache_warning</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span></code>

        <section class="phpdocumentor-description"><p>Under these circumstances, there is a chance that the persistent caches introduced in 2.3 could contain invalid data.</p>
</section>

    
    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">see</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                                                                    <span class="phpdocumentor-tag-link"><a href="https://github.com/Prospress/woocommerce-subscriptions/issues/2822"><abbr title="https://github.com/Prospress/woocommerce-subscriptions/issues/2822">https://github.com/Prospress/woocommerce-subscriptions/issues/2822</abbr></a></span>
                                                                <section class="phpdocumentor-description"><p>for more details.</p>
</section>

                </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">2.3.3</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
    <span class="phpdocumentor-signature__response_type">mixed</span>
            &mdash; <span class="phpdocumentor-return-value__description"></span>
    
</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                    -static                    "
>
    <h4 class="phpdocumentor-element__name" id="method_maybe_redirect_after_upgrade_complete">
        maybe_redirect_after_upgrade_complete()
        <a href="#method_maybe_redirect_after_upgrade_complete" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="woocommerce-subscriptions/vendor/woocommerce/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php"><a href="../files/woocommerce-subscriptions-vendor-woocommerce-subscriptions-core-includes-upgrades-class-wc-subscriptions-upgrader.html#source-view.290">woocommerce-subscriptions/vendor/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">290</span>
</aside>

        <p class="phpdocumentor-summary">Redirect to the Subscriptions major version Welcome/About page for major version updates</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
            <span class="phpdocumentor-signature__static">static</span>    <span class="phpdocumentor-signature__name">maybe_redirect_after_upgrade_complete</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">mixed&nbsp;</span><span class="phpdocumentor-signature__argument__name">$current_version</span></span><span class="phpdocumentor-signature__argument"><span>, </span><span class="phpdocumentor-signature__argument__return-type">mixed&nbsp;</span><span class="phpdocumentor-signature__argument__name">$previously_active_version</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span></code>

        <section class="phpdocumentor-description"></section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$current_version</span>
                : <span class="phpdocumentor-signature__argument__return-type">mixed</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                
            </dd>
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$previously_active_version</span>
                : <span class="phpdocumentor-signature__argument__return-type">mixed</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                
            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">2.1</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
    <span class="phpdocumentor-signature__response_type">mixed</span>
            &mdash; <span class="phpdocumentor-return-value__description"></span>
    
</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
            -deprecated                        -static                    "
>
    <h4 class="phpdocumentor-element__name" id="method_maybe_update_subscription_post_author">
        maybe_update_subscription_post_author()
        <a href="#method_maybe_update_subscription_post_author" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="woocommerce-subscriptions/vendor/woocommerce/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php"><a href="../files/woocommerce-subscriptions-vendor-woocommerce-subscriptions-core-includes-upgrades-class-wc-subscriptions-upgrader.html#source-view.912">woocommerce-subscriptions/vendor/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">912</span>
</aside>

        <p class="phpdocumentor-summary">Handles the WC 3.5.0 upgrade routine that moves customer IDs from post metadata to the &#039;post_author&#039; column.</p>

    <code class="phpdocumentor-code phpdocumentor-signature -deprecated">
    <span class="phpdocumentor-signature__visibility">public</span>
            <span class="phpdocumentor-signature__static">static</span>    <span class="phpdocumentor-signature__name">maybe_update_subscription_post_author</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span></code>

        <section class="phpdocumentor-description"></section>

    
    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">2.4.0</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                                                <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">deprecated</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">2.5.0</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
    <span class="phpdocumentor-signature__response_type">mixed</span>
            &mdash; <span class="phpdocumentor-return-value__description"></span>
    
</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                    -static                    "
>
    <h4 class="phpdocumentor-element__name" id="method_repair_end_of_prepaid_term_actions">
        repair_end_of_prepaid_term_actions()
        <a href="#method_repair_end_of_prepaid_term_actions" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="woocommerce-subscriptions/vendor/woocommerce/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php"><a href="../files/woocommerce-subscriptions-vendor-woocommerce-subscriptions-core-includes-upgrades-class-wc-subscriptions-upgrader.html#source-view.803">woocommerce-subscriptions/vendor/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">803</span>
</aside>

        <p class="phpdocumentor-summary">Run the end of prepaid term repair script.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
            <span class="phpdocumentor-signature__static">static</span>    <span class="phpdocumentor-signature__name">repair_end_of_prepaid_term_actions</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span></code>

        <section class="phpdocumentor-description"></section>

    
    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">2.2.7</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
    <span class="phpdocumentor-signature__response_type">mixed</span>
            &mdash; <span class="phpdocumentor-return-value__description"></span>
    
</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                    -static                    "
>
    <h4 class="phpdocumentor-element__name" id="method_repair_subscription_contains_sync_meta">
        repair_subscription_contains_sync_meta()
        <a href="#method_repair_subscription_contains_sync_meta" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="woocommerce-subscriptions/vendor/woocommerce/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php"><a href="../files/woocommerce-subscriptions-vendor-woocommerce-subscriptions-core-includes-upgrades-class-wc-subscriptions-upgrader.html#source-view.812">woocommerce-subscriptions/vendor/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">812</span>
</aside>

        <p class="phpdocumentor-summary">Repair subscriptions with missing contains_synced_subscription post meta.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
            <span class="phpdocumentor-signature__static">static</span>    <span class="phpdocumentor-signature__name">repair_subscription_contains_sync_meta</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span></code>

        <section class="phpdocumentor-description"></section>

    
    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">2.2.9</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
    <span class="phpdocumentor-signature__response_type">mixed</span>
            &mdash; <span class="phpdocumentor-return-value__description"></span>
    
</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                    -static                    "
>
    <h4 class="phpdocumentor-element__name" id="method_repair_subtracted_base_taxes">
        repair_subtracted_base_taxes()
        <a href="#method_repair_subtracted_base_taxes" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="woocommerce-subscriptions/vendor/woocommerce/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php"><a href="../files/woocommerce-subscriptions-vendor-woocommerce-subscriptions-core-includes-upgrades-class-wc-subscriptions-upgrader.html#source-view.900">woocommerce-subscriptions/vendor/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">900</span>
</aside>

        <p class="phpdocumentor-summary">Repair a single item&#039;s subtracted base tax meta.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
            <span class="phpdocumentor-signature__static">static</span>    <span class="phpdocumentor-signature__name">repair_subtracted_base_taxes</span><span>(</span><span class="phpdocumentor-signature__argument"><span class="phpdocumentor-signature__argument__return-type">int&nbsp;</span><span class="phpdocumentor-signature__argument__name">$item_id</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span></code>

        <section class="phpdocumentor-description"></section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$item_id</span>
                : <span class="phpdocumentor-signature__argument__return-type">int</span>
                            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                    <section class="phpdocumentor-description"><p>The ID of the item which needs repairing.</p>
</section>

            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">3.1.0</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
    <span class="phpdocumentor-signature__response_type">mixed</span>
            &mdash; <span class="phpdocumentor-return-value__description"></span>
    
</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                    -static                    "
>
    <h4 class="phpdocumentor-element__name" id="method_updated_welcome_page">
        updated_welcome_page()
        <a href="#method_updated_welcome_page" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="woocommerce-subscriptions/vendor/woocommerce/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php"><a href="../files/woocommerce-subscriptions-vendor-woocommerce-subscriptions-core-includes-upgrades-class-wc-subscriptions-upgrader.html#source-view.647">woocommerce-subscriptions/vendor/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">647</span>
</aside>

        <p class="phpdocumentor-summary">Display the Subscriptions welcome/about page after successfully upgrading to the latest version.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
            <span class="phpdocumentor-signature__static">static</span>    <span class="phpdocumentor-signature__name">updated_welcome_page</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span></code>

        <section class="phpdocumentor-description"></section>

    
    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">1.4</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
    <span class="phpdocumentor-signature__response_type">mixed</span>
            &mdash; <span class="phpdocumentor-return-value__description"></span>
    
</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                    -static                    "
>
    <h4 class="phpdocumentor-element__name" id="method_upgrade">
        upgrade()
        <a href="#method_upgrade" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="woocommerce-subscriptions/vendor/woocommerce/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php"><a href="../files/woocommerce-subscriptions-vendor-woocommerce-subscriptions-core-includes-upgrades-class-wc-subscriptions-upgrader.html#source-view.148">woocommerce-subscriptions/vendor/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">148</span>
</aside>

        <p class="phpdocumentor-summary">Checks which upgrades need to run and calls the necessary functions for that upgrade.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
            <span class="phpdocumentor-signature__static">static</span>    <span class="phpdocumentor-signature__name">upgrade</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span></code>

        <section class="phpdocumentor-description"></section>

    
    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">1.2</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
    <span class="phpdocumentor-signature__response_type">mixed</span>
            &mdash; <span class="phpdocumentor-return-value__description"></span>
    
</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                    -static                    "
>
    <h4 class="phpdocumentor-element__name" id="method_upgrade_complete">
        upgrade_complete()
        <a href="#method_upgrade_complete" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="woocommerce-subscriptions/vendor/woocommerce/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php"><a href="../files/woocommerce-subscriptions-vendor-woocommerce-subscriptions-core-includes-upgrades-class-wc-subscriptions-upgrader.html#source-view.274">woocommerce-subscriptions/vendor/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">274</span>
</aside>

        <p class="phpdocumentor-summary">When an upgrade is complete, set the active version, delete the transient locking upgrade and fire a hook.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
            <span class="phpdocumentor-signature__static">static</span>    <span class="phpdocumentor-signature__name">upgrade_complete</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span></code>

        <section class="phpdocumentor-description"></section>

    
    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">1.2</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
    <span class="phpdocumentor-signature__response_type">mixed</span>
            &mdash; <span class="phpdocumentor-return-value__description"></span>
    
</article>
                    <article
        class="phpdocumentor-element
            -method
            -public
                                    -static                    "
>
    <h4 class="phpdocumentor-element__name" id="method_upgrade_in_progress_notice">
        upgrade_in_progress_notice()
        <a href="#method_upgrade_in_progress_notice" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="woocommerce-subscriptions/vendor/woocommerce/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php"><a href="../files/woocommerce-subscriptions-vendor-woocommerce-subscriptions-core-includes-upgrades-class-wc-subscriptions-upgrader.html#source-view.637">woocommerce-subscriptions/vendor/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">637</span>
</aside>

        <p class="phpdocumentor-summary">Let the site administrator know we are upgrading the database already to prevent duplicate processes running the
upgrade. Also provides some useful diagnostic information, like how long before the site admin can restart the
upgrade process, and how many subscriptions per request can typically be updated given the amount of memory
allocated to PHP.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">public</span>
            <span class="phpdocumentor-signature__static">static</span>    <span class="phpdocumentor-signature__name">upgrade_in_progress_notice</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span></code>

        <section class="phpdocumentor-description"></section>

    
    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">1.4</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
    <span class="phpdocumentor-signature__response_type">mixed</span>
            &mdash; <span class="phpdocumentor-return-value__description"></span>
    
</article>
                    <article
        class="phpdocumentor-element
            -method
            -protected
                                    -static                    "
>
    <h4 class="phpdocumentor-element__name" id="method_migrated_subscription_count">
        migrated_subscription_count()
        <a href="#method_migrated_subscription_count" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="woocommerce-subscriptions/vendor/woocommerce/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php"><a href="../files/woocommerce-subscriptions-vendor-woocommerce-subscriptions-core-includes-upgrades-class-wc-subscriptions-upgrader.html#source-view.770">woocommerce-subscriptions/vendor/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">770</span>
</aside>

        <p class="phpdocumentor-summary">Check if the database has some data that was migrated from 1.5 to 2.0</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">protected</span>
            <span class="phpdocumentor-signature__static">static</span>    <span class="phpdocumentor-signature__name">migrated_subscription_count</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">bool</span></code>

        <section class="phpdocumentor-description"></section>

    
    

        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
    <span class="phpdocumentor-signature__response_type">bool</span>
            &mdash; <span class="phpdocumentor-return-value__description">True if it detects some v1.5 migrated data, otherwise false</span>
    
</article>
                    <article
        class="phpdocumentor-element
            -method
            -protected
                                    -static                    "
>
    <h4 class="phpdocumentor-element__name" id="method_set_cron_lock">
        set_cron_lock()
        <a href="#method_set_cron_lock" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="woocommerce-subscriptions/vendor/woocommerce/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php"><a href="../files/woocommerce-subscriptions-vendor-woocommerce-subscriptions-core-includes-upgrades-class-wc-subscriptions-upgrader.html#source-view.138">woocommerce-subscriptions/vendor/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">138</span>
</aside>

        <p class="phpdocumentor-summary">Try to block WP-Cron until upgrading finishes. spawn_cron() will only let us steal the lock for 10 minutes into the future, so
we can actually only block it for 9 minutes confidently. But as long as the upgrade process continues, the lock will remain.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">protected</span>
            <span class="phpdocumentor-signature__static">static</span>    <span class="phpdocumentor-signature__name">set_cron_lock</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span></code>

        <section class="phpdocumentor-description"></section>

    
    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">2.0</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
    <span class="phpdocumentor-signature__response_type">mixed</span>
            &mdash; <span class="phpdocumentor-return-value__description"></span>
    
</article>
                    <article
        class="phpdocumentor-element
            -method
            -protected
                                    -static                    "
>
    <h4 class="phpdocumentor-element__name" id="method_set_upgrade_limits">
        set_upgrade_limits()
        <a href="#method_set_upgrade_limits" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="woocommerce-subscriptions/vendor/woocommerce/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php"><a href="../files/woocommerce-subscriptions-vendor-woocommerce-subscriptions-core-includes-upgrades-class-wc-subscriptions-upgrader.html#source-view.116">woocommerce-subscriptions/vendor/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">116</span>
</aside>

        <p class="phpdocumentor-summary">Set limits on the number of items to upgrade at any one time based on the size of the site.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">protected</span>
            <span class="phpdocumentor-signature__static">static</span>    <span class="phpdocumentor-signature__name">set_upgrade_limits</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span></code>

        <section class="phpdocumentor-description"><p>The size of subscription at the time the upgrade is started is used to determine the batch size.</p>
</section>

    
    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">2.0</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
    <span class="phpdocumentor-signature__response_type">mixed</span>
            &mdash; <span class="phpdocumentor-return-value__description"></span>
    
</article>
                    <article
        class="phpdocumentor-element
            -method
            -private
                                    -static                    "
>
    <h4 class="phpdocumentor-element__name" id="method_ajax_upgrade_handler">
        ajax_upgrade_handler()
        <a href="#method_ajax_upgrade_handler" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="woocommerce-subscriptions/vendor/woocommerce/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php"><a href="../files/woocommerce-subscriptions-vendor-woocommerce-subscriptions-core-includes-upgrades-class-wc-subscriptions-upgrader.html#source-view.303">woocommerce-subscriptions/vendor/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">303</span>
</aside>

        <p class="phpdocumentor-summary">Add support for quantities for subscriptions.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">private</span>
            <span class="phpdocumentor-signature__static">static</span>    <span class="phpdocumentor-signature__name">ajax_upgrade_handler</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span></code>

        <section class="phpdocumentor-description"><p>Update all current subscription wp_cron tasks to the new action-scheduler system.</p>
</section>

    
    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">2.0</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
    <span class="phpdocumentor-signature__response_type">mixed</span>
            &mdash; <span class="phpdocumentor-return-value__description"></span>
    
</article>
                    <article
        class="phpdocumentor-element
            -method
            -private
                                    -static                    "
>
    <h4 class="phpdocumentor-element__name" id="method_generate_renewal_orders">
        generate_renewal_orders()
        <a href="#method_generate_renewal_orders" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="woocommerce-subscriptions/vendor/woocommerce/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php"><a href="../files/woocommerce-subscriptions-vendor-woocommerce-subscriptions-core-includes-upgrades-class-wc-subscriptions-upgrader.html#source-view.509">woocommerce-subscriptions/vendor/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">509</span>
</aside>

        <p class="phpdocumentor-summary">Version 1.2 introduced child renewal orders to keep a record of each completed subscription
payment. Before 1.2, these orders did not exist, so this function creates them.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">private</span>
            <span class="phpdocumentor-signature__static">static</span>    <span class="phpdocumentor-signature__name">generate_renewal_orders</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span></code>

        <section class="phpdocumentor-description"></section>

    
    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">1.2</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
    <span class="phpdocumentor-signature__response_type">mixed</span>
            &mdash; <span class="phpdocumentor-return-value__description"></span>
    
</article>
                    <article
        class="phpdocumentor-element
            -method
            -private
                                    -static                    "
>
    <h4 class="phpdocumentor-element__name" id="method_get_total_subscription_count">
        get_total_subscription_count()
        <a href="#method_get_total_subscription_count" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="woocommerce-subscriptions/vendor/woocommerce/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php"><a href="../files/woocommerce-subscriptions-vendor-woocommerce-subscriptions-core-includes-upgrades-class-wc-subscriptions-upgrader.html#source-view.691">woocommerce-subscriptions/vendor/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">691</span>
</aside>

        <p class="phpdocumentor-summary">In v2.0 and newer, it&#039;s possible to simply use wp_count_posts( &#039;shop_subscription&#039; ) to count subscriptions,
but not in v1.5, because a subscription data is still stored in order item meta. This function queries the
v1.5 database structure.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">private</span>
            <span class="phpdocumentor-signature__static">static</span>    <span class="phpdocumentor-signature__name">get_total_subscription_count</span><span>(</span><span class="phpdocumentor-signature__argument"><span>[</span><span class="phpdocumentor-signature__argument__return-type">mixed&nbsp;</span><span class="phpdocumentor-signature__argument__name">$initial</span><span> = </span><span class="phpdocumentor-signature__argument__default-value">false</span><span> ]</span></span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span></code>

        <section class="phpdocumentor-description"></section>

        <h5 class="phpdocumentor-argument-list__heading">Parameters</h5>
    <dl class="phpdocumentor-argument-list">
                    <dt class="phpdocumentor-argument-list__entry">
                <span class="phpdocumentor-signature__argument__name">$initial</span>
                : <span class="phpdocumentor-signature__argument__return-type">mixed</span>
                 = <span class="phpdocumentor-signature__argument__default-value">false</span>            </dt>
            <dd class="phpdocumentor-argument-list__definition">
                
            </dd>
            </dl>

    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">2.0</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
    <span class="phpdocumentor-signature__response_type">mixed</span>
            &mdash; <span class="phpdocumentor-return-value__description"></span>
    
</article>
                    <article
        class="phpdocumentor-element
            -method
            -private
                                    -static                    "
>
    <h4 class="phpdocumentor-element__name" id="method_get_total_subscription_count_query">
        get_total_subscription_count_query()
        <a href="#method_get_total_subscription_count_query" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="woocommerce-subscriptions/vendor/woocommerce/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php"><a href="../files/woocommerce-subscriptions-vendor-woocommerce-subscriptions-core-includes-upgrades-class-wc-subscriptions-upgrader.html#source-view.717">woocommerce-subscriptions/vendor/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">717</span>
</aside>

        <p class="phpdocumentor-summary">Returns the number of subscriptions left in the 1.5 structure</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">private</span>
            <span class="phpdocumentor-signature__static">static</span>    <span class="phpdocumentor-signature__name">get_total_subscription_count_query</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">int</span></code>

        <section class="phpdocumentor-description"></section>

    
    

        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
    <span class="phpdocumentor-signature__response_type">int</span>
            &mdash; <span class="phpdocumentor-return-value__description">number of 1.5 subscriptions left</span>
    
</article>
                    <article
        class="phpdocumentor-element
            -method
            -private
                                    -static                    "
>
    <h4 class="phpdocumentor-element__name" id="method_upgrade_really_old_versions">
        upgrade_really_old_versions()
        <a href="#method_upgrade_really_old_versions" class="headerlink"><i class="fas fa-link"></i></a>
    </h4>
    <aside class="phpdocumentor-element-found-in">
    <abbr class="phpdocumentor-element-found-in__file" title="woocommerce-subscriptions/vendor/woocommerce/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php"><a href="../files/woocommerce-subscriptions-vendor-woocommerce-subscriptions-core-includes-upgrades-class-wc-subscriptions-upgrader.html#source-view.477">woocommerce-subscriptions/vendor/subscriptions-core/includes/upgrades/class-wc-subscriptions-upgrader.php</a></abbr>
    :
    <span class="phpdocumentor-element-found-in__line">477</span>
</aside>

        <p class="phpdocumentor-summary">Handle upgrades for really old versions.</p>

    <code class="phpdocumentor-code phpdocumentor-signature ">
    <span class="phpdocumentor-signature__visibility">private</span>
            <span class="phpdocumentor-signature__static">static</span>    <span class="phpdocumentor-signature__name">upgrade_really_old_versions</span><span>(</span><span>)</span><span> : </span><span class="phpdocumentor-signature__response_type">mixed</span></code>

        <section class="phpdocumentor-description"></section>

    
    
    <h5 class="phpdocumentor-tag-list__heading" id="tags">
        Tags
        <a href="#tags" class="headerlink"><i class="fas fa-link"></i></a>
    </h5>
    <dl class="phpdocumentor-tag-list">
                                    <dt class="phpdocumentor-tag-list__entry">
                    <span class="phpdocumentor-tag__name">since</span>
                </dt>
                <dd class="phpdocumentor-tag-list__definition">
                                            <span class="phpdocumentor-tag-link">2.0</span>
                                                                                                        <section class="phpdocumentor-description"></section>

                </dd>
                        </dl>

        <h5 class="phpdocumentor-return-value__heading">Return values</h5>
    <span class="phpdocumentor-signature__response_type">mixed</span>
            &mdash; <span class="phpdocumentor-return-value__description"></span>
    
</article>
            </section>

    </article>
            </div>
        </div>
        <a href="#top" class="phpdocumentor-back-to-top"><i class="fas fa-chevron-circle-up"></i></a>

    </main>

    <footer class="phpdocumentor phpdocumentor-footer">
    <div class="phpdocumentor-section">
        <span>WooCommerce Code Reference API documentation generated by <a href="http://www.phpdoc.org/">phpDocumentor</a> on September 21st, 2022 at 05:39 am.</span>
    </div>
</footer>

    <script>
        cssVars({});
    </script>
    <script>
        var searchParams = {
            'searchIndex': '..\/js\/searchIndex.json'
        };
    </script>
    <script src="../js/searchIndex.js?updated=1663738777"></script>
    <script src="../js/search.js?updated=1663738777"></script>
</body>
</html>
